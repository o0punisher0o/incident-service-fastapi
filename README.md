# Incident Service with Telegram Integration

–ú–∞–ª–µ–Ω—å–∫–∏–π API-—Å–µ—Ä–≤–∏—Å –¥–ª—è —É—á—ë—Ç–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏ –≤ Telegram.

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- Python 3.10+
- FastAPI
- SQLite
- SQLAlchemy
- aiohttp
- python-dotenv

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
git clone <repo_url>
cd incident_service
python -m venv venv
source venv/bin/activate  # –∏–ª–∏ venv\Scripts\activate –Ω–∞ Windows
pip install -r requirements.txt
uvicorn main:app --reload

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É:
üëâ http://127.0.0.1:8000/docs

üîë –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram-–±–æ—Ç–∞

–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ @BotFather

–ù–∞–ø–∏—à–∏—Ç–µ /newbot

–£–∫–∞–∂–∏—Ç–µ –∏–º—è –∏ username (–Ω–∞–ø—Ä–∏–º–µ—Ä, incident_alert_bot)

–°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ç–æ–∫–µ–Ω, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–¥–∞—Å—Ç BotFather ‚Äî –æ–Ω –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

1234567890:ABCDEFGH


–£–∑–Ω–∞–π—Ç–µ —Å–≤–æ–π chat_id (ID —á–∞—Ç–∞, –∫—É–¥–∞ –±–æ—Ç –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è):

–í Telegram –æ—Ç–∫—Ä–æ–π—Ç–µ @userinfobot

–ù–∞–ø–∏—à–∏—Ç–µ /start

–ë–æ—Ç –æ—Ç–≤–µ—Ç–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ–º:

üë§ Your ID: 123456789


–≠—Ç–æ –∏ –µ—Å—Ç—å –≤–∞—à chat_id.

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

BOT_TOKEN=1234567890:ABCDEFGH
CHAT_ID=123456789


–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç:

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä FastAPI.

–°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ü–∏–¥–µ–Ω—Ç —á–µ—Ä–µ–∑ Swagger UI (/incidents/).

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –æ—Ç–ø—Ä–∞–≤–∏–ª —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram.

üß† –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
1. –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ü–∏–¥–µ–Ω—Ç
POST /incidents/
{
  "description": "–°–∞–º–æ–∫–∞—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç",
  "status": "open",
  "source": "operator"
}

2. –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤
GET /incidents?status=open

3. –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∏–Ω—Ü–∏–¥–µ–Ω—Ç–∞
PATCH /incidents/1
{
  "status": "resolved"
}

üìò –ü—Ä–∏–º–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ Telegram
üÜò –ù–æ–≤—ã–π –∏–Ω—Ü–∏–¥–µ–Ω—Ç!

ID: 1
–û–ø–∏—Å–∞–Ω–∏–µ: –°–∞–º–æ–∫–∞—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç
–°—Ç–∞—Ç—É—Å: open
–ò—Å—Ç–æ—á–Ω–∏–∫: operator
–°–æ–∑–¥–∞–Ω–æ: 2025-11-09 14:22:31


---
